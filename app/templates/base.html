<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Projeto Basquete{% endblock %}</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bgcolordark': '#0F2027',
                        'bgcolorligth': '#2C5364',
                        'stat-card-header': '#1F6E8F',
                        'blue': '#2563EB'
                    }
                }
            }
        }
    </script>
    <style>
:root {
    --red-500: #EF4444;
    --red-600: #DC2626;
    --red-700: #B91C1C;
    --crimson-600: #991B1B;
    --crimson-700: #7F1D1D;

    --yellow-400: #F59E0B;
    --yellow-500: #EAB308;

    --orange-400: #FB923C;
    --orange-500: #F97316;
    --orange-600: #EA580C;

    --green-500: #22C55E;
    --green-700: #15803D;
    --green-800: #166534;
    --lime-500: #84CC16;

    --cream-100: #FDF6EC;

    --gray-100: #F3F4F6;
    --gray-200: #E5E7EB;
    --gray-300: #D1D5DB;
    --gray-400: #9CA3AF;
    --gray-500: #6B7280;
    --gray-600: #4B5563;
    --gray-700: #374151;
    --gray-800: #1F2937;
    --gray-900: #111827;

    --charcoal-800: #1C1C1E;

    --black: #000000;
    --white: #FFFFFF;

    --teal-500: #0D9488;
    --purple-600: #9333EA;
    --purple-700: #7E22CE;
    --purple-900: #581C87;

    --navy-800: #1E3A8A;
    --navy-900: #1E293B;

    --blue-400: #60A5FA;
    --blue-600: #2563EB;
    --blue-700: #1D4ED8;
    --blue-800: #1E40AF;
    --blue-900: #1E3A8A;

    --sky-400: #38BDF8;

    --silver-300: #D6D3D1;
    --silver-400: #A1A1AA;
    --steel-400: #94A3B8;

    --gold-500: #FBBF24;
}

    </style>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% block head %}{% endblock %}
</head>
<body class="min-h-screen flex flex-col transition-colors duration-300 bg-gradient-to-b from-bgcolordark to-bgcolorligth">
    {% if not hide_nav|default(False) %}
    <nav class="backdrop-blur-md bg-[rgba(225,225,225,0.07)] text-white px-6 py-4 shadow-md">
        <div class="w-full mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-bold text-white ml-3">üèÄ BasketStats</h1>
            <div class="w-7/12 flex justify-around items-center text-2xl font-semibold">
                <a href="{{ url_for('main.home') }}" class="hover:text-blue-400 transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9 22 9 12 15 12 15 22"/>
                    </svg>
                    Home
                </a>
                <a href="{{ url_for('main.team') }}" class="hover:text-blue-400 transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                    Team
                </a>
                <a href="{{ url_for('main.stats') }}" class="hover:text-blue-400 transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3">
                        <line x1="12" x2="12" y1="20" y2="10"/>
                        <line x1="18" x2="18" y1="20" y2="4"/>
                        <line x1="6" x2="6" y1="20" y2="16"/>
                    </svg>
                    Stats
                </a>
                <a href="#" class="hover:text-blue-400 transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3">
                        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <path d="M9 14h6"/>
                        <path d="M9 18h3"/>
                    </svg>
                    Playbook
                </a>
                <a href="#" class="hover:text-blue-400 transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3">
                        <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                        <line x1="16" x2="16" y1="2" y2="6"/>
                        <line x1="8" x2="8" y1="2" y2="6"/>
                        <line x1="3" x2="21" y1="10" y2="10"/>
                        <path d="m9 16 2 2 4-4"/>
                    </svg>
                    Schedule
                </a>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('auth.logout') }}" class="text-red-400 hover:text-red-200 transition">Sair</a>
                {% else %}
                    <a href="{{ url_for('auth.login') }}" class="text-blue-400 hover:text-blue-200 transition">Entrar</a>
                {% endif %}
            </div>
        </div>
    </nav>
    {% endif %}

    <main class="flex-grow w-full px-4 py-6">
        {% block content %}{% endblock %}
    </main>

    {% if not hide_nav|default(False) %}
    <div class="toast-container position-fixed top-0 end-0 p-3">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="custom-toast toast toast-{{ category }} fade show" role="alert" aria-live="assertive" aria-atomic="true">
                        <button type="button" class="btn-close btn-close-white close-btn" data-bs-dismiss="toast" aria-label="Fechar"></button>
                        <div class="toast-content">
                            <span class="toast-icon">
                                {% if category == 'success' %}
                                    ‚úîÔ∏è
                                {% elif category == 'error' or category == 'danger' %}
                                    ‚ùå
                                {% else %}
                                    ‚ÑπÔ∏è
                                {% endif %}
                            </span>
                            <span class="toast-message">{{ message }}</span>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    {% block scripts %}{% endblock %}
    <script>
        // Fecha os toasts quando o bot√£o de fechar √© clicado
        document.addEventListener('DOMContentLoaded', function() {
            const closeButtons = document.querySelectorAll('.close-btn');
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const toast = this.closest('.custom-toast');
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                });
            });

            // Remove os toasts ap√≥s 5 segundos
            const toasts = document.querySelectorAll('.custom-toast');
            toasts.forEach(toast => {
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, 5000);
            });
        });
    </script>
</body>
</html>
